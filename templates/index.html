<!DOCTYPE html>
<html>
<head>
  <title>Dictionary Lookup</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background: #f4f6f9;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    .container {
      max-width: 900px;
      background: white;
      padding: 2rem;
      border-radius: 10px;
      box-shadow: 0px 4px 20px rgba(0,0,0,0.1);
      margin-top: 3rem;
    }
    h1 {
      font-weight: bold;
      color: #007bff;
      margin-bottom: 1.5rem;
    }
    .search-box {
      display: flex;
      gap: 0.5rem;
    }
    .definition-card {
      background: #f8f9fa;
      border-radius: 8px;
      padding: 1rem;
      margin-bottom: 1rem;
      border-left: 4px solid #007bff;
    }
    .part-of-speech {
      text-transform: capitalize;
      font-weight: bold;
      color: #495057;
    }
    audio {
      height: 28px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ðŸ“š Dictionary Lookup</h1>

    <form method="POST" class="mb-4">
      <div class="search-box">
        <input name="word" placeholder="Enter an English word" value="{{ word or '' }}" required class="form-control">
        <button class="btn btn-primary">Search</button>
      </div>
    </form>

    {% if result %}
      {% if result.error %}
        <div class="alert alert-danger">{{ result.error }}</div>
      {% else %}
        <div class="mb-3">
          <h2 class="mb-0">{{ result.word }}</h2>
          {% if result.phonetic %}
            <small class="text-muted"><em>{{ result.phonetic }}</em></small>
          {% endif %}
        </div>

        {% if result.phonetics %}
          <h5 class="mt-3">ðŸ”Š Pronunciations:</h5>
          <ul class="list-unstyled">
            {% for p in result.phonetics %}
              <li>
                {% if p.text %}<strong>{{ p.text }}</strong>{% endif %}
                {% if p.audio %}
                  â€” <audio controls src="{{ p.audio }}"></audio>
                {% endif %}
              </li>
            {% endfor %}
          </ul>
        {% endif %}

        <hr>
        {% for m in result.meanings %}
          <div class="definition-card">
            <span class="part-of-speech">{{ m.partOfSpeech }}</span>
            <ul class="mt-2">
              {% for d in m.definitions %}
                <li>
                  {{ d.definition }}
                  {% if d.example %}
                    <br><em class="text-muted">Example: "{{ d.example }}"</em>
                  {% endif %}
                  {% if d.synonyms %}
                    <br><strong>Synonyms:</strong> {{ d.synonyms | join(", ") }}
                  {% endif %}
                  {% if d.antonyms %}
                    <br><strong>Antonyms:</strong> {{ d.antonyms | join(", ") }}
                  {% endif %}
                </li>
              {% endfor %}
            </ul>
          </div>
        {% endfor %}
      {% endif %}
    {% endif %}
  </div>
</body>
</html>
